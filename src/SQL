create table popular_words(
                              word varchar not null UNIQUE,
                              translate varchar not null
);

create table words(
                      word varchar not null UNIQUE,
                      translate varchar not null
);

create table users(
                      id int generated always as identity unique,
                      "login" varchar(100) not null,
                      "password" varchar(100) not null,
                      email_address varchar(150) not null,
                      popular_words_id varchar REFERENCES popular_words(word) ON DELETE CASCADE
);

create table role(
                     id int generated always as identity unique ,
                     name varchar(100) not null
);

create table user_roles(
                           user_id int references users(id),
                           role_id int references role(id)
);

create table incorrect_translation(
                                      "user" int references users(id) ON DELETE CASCADE,
                                      word varchar references popular_words(word) ON DELETE CASCADE
);


create table users(
                      id int generated always as identity unique,
                      "login" varchar(100) not null,
                      "password" varchar(100) not null,
                      email_address varchar(150) not null,
                      popular_words_id varchar REFERENCES popular_words(word) ON DELETE CASCADE
);

INSERT INTO role(name) VALUES ('ROLE_USER');
INSERT INTO role(name) VALUES ('ROLE_ADMIN');

INSERT INTO user_roles VALUES (1, 2);


drop table popular_words cascade;
drop table words;
drop table users cascade;
drop table incorrect_translation;
drop table role;

truncate table users cascade;